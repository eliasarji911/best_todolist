<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Todo List</title>
  <link rel="stylesheet" href="../styles/styles.css" />
</head>

<body>
  <h1 id="greating">My Tasks</h1>

  <button type="button" onclick="logout()" style="margin-left:10px;">Sign out</button>


  <a href="/usersPage">Users CRUD</a>
  &nbsp;|&nbsp;
  <a href="/cat">Categories CRUD</a>

  <hr />

  <div>
    <input id="id" type="hidden" />

  
    <label for="categorySelect">Category:</label>
    <select id="categorySelect"></select>

    <label for="text">Text:</label>
    <input id="text" type="text" placeholder="Write your task..." />

    <button type="button" onclick="addOrEdit()" id="sendBtn">Send</button>
    <button type="button" onclick="cancelEdit()" id="cancelBtn" style="display:none;">
      Cancel
    </button>
  </div>

  <hr />

  <label for="mySelect">Show:</label>
  <select onchange="renderTasks()" id="mySelect">
    <option value="all">All</option>
    <option value="todo">Not Done</option>
    <option value="done">Done</option>
  </select>

  <hr />

  <table border="1" width="100%">
    <thead>
      <tr>
        <th>Done</th>
        <th>Category</th>
        <th>Text</th>
        <th>Edit</th>
        <th>Delete</th>
      </tr>
    </thead>

    <tbody id="myTable"></tbody>
  </table>

  <p id="msg" style="margin-top:12px;"></p>

  <script src="../scripts/script.js"></script>
</body>

<script>
  async function logout() {
    const res = await fetch("/auth/logout", { method: "POST" });
    if (res.ok) location.href = "/login";
  }
</script>


</html>




